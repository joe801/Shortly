{"ast":null,"code":"import _toConsumableArray from\"/home/joseph/Desktop/coding_mat/url-shortening-api-master/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/joseph/Desktop/coding_mat/url-shortening-api-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import ShortLink from\"./ShortLink\";//import bg_boost_mobile from './images/bg-boost-mobile.svg';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FormLink=function FormLink(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),inputLink=_useState2[0],setInputLink=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),linkList=_useState4[0],setLinkList=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),emptyInput=_useState6[0],setEmptyInput=_useState6[1];var linkInputClass1=\"py-3 pl-4 outline-none rounded-md md:col-span-3 border-0\";var linkInputClass2=\"py-3 pl-4 outline-none rounded-md md:col-span-3 border-2 border-Red\";// useEffect(() => {\n//    localStorage.getItem(\"list\");\n//}, []);\n//useEffect(() => {\n//  localStorage.setItem(\"list\", linkList)\n//}, [linkList]);\nuseEffect(function(){var storedLinkList=localStorage.getItem(\"linkList\");if(storedLinkList){setLinkList(JSON.parse(storedLinkList));}},[]);useEffect(function(){localStorage.setItem(\"linkList\",JSON.stringify(linkList));},[linkList]);//function to fetch short link and add to list\nvar handleSubmit=function handleSubmit(e){e.preventDefault();if(!inputLink){setEmptyInput(true);}else{fetch(\"https://api.shrtco.de/v2/shorten?url=\".concat(inputLink)).then(function(res){return res.json();}).then(function(data){var shortLink=\"http://\".concat(data.result.short_link);var shortURL=data.result.short_link;var fullLink=inputLink;var keys=data.result.code;setLinkList(function(prevList){return[].concat(_toConsumableArray(prevList),[{short:shortLink,full:fullLink,key:keys,shortURL:shortURL}]);});setInputLink(\"\");});setEmptyInput(false);}};// function to copy text to clipboard\nvar copyToClipboard=function copyToClipboard(shortLink){navigator.clipboard.writeText(shortLink).then(function(){console.log(\"Link copied to clipboard!\");}).catch(function(error){console.error(\"Failed to copy link to clipboard:\",error);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\" absolute -top-20 w-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-10/12 mx-auto bg-darkViolet rounded-lg bg-bg-shorten-mobile bg-no-repeat bg-right-top md:bg-bg-shorten-desktop bg-cover\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"grid grid-cols-1 w-4/5 mx-auto py-8 gap-4 md:grid-cols-4 md:w-11/12\",children:[/*#__PURE__*/_jsx(\"input\",{className:emptyInput===false?'py-3 pl-4 outline-none rounded-md md:col-span-3 border-0':'py-3 pl-4 outline-none rounded-md md:col-span-3 border-2 border-reD placeholder:text-red-300',id:\"linkInput\",type:\"text\",placeholder:\"Shorten a link here... \",value:inputLink,onChange:function onChange(e){return setInputLink(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\" bg-cYan text-center py-3 rounded-md text-white font-bold hover:brightness-125 cursor-pointer duration-300\",type:\"submit\",value:\"Shorten it!\"}),emptyInput&&/*#__PURE__*/_jsx(\"p\",{className:\" text-reD text-xs -mt-2\",children:\"please add a link\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full py-12\"}),/*#__PURE__*/_jsx(ShortLink,{list:linkList,copy:copyToClipboard})]});};export default FormLink;","map":{"version":3,"names":["useEffect","useState","ShortLink","FormLink","inputLink","setInputLink","linkList","setLinkList","emptyInput","setEmptyInput","linkInputClass1","linkInputClass2","storedLinkList","localStorage","getItem","JSON","parse","setItem","stringify","handleSubmit","e","preventDefault","fetch","then","res","json","data","shortLink","result","short_link","shortURL","fullLink","keys","code","prevList","short","full","key","copyToClipboard","navigator","clipboard","writeText","console","log","catch","error","target","value"],"sources":["/home/joseph/Desktop/coding_mat/url-shortening-api-master/src/FormLink.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport ShortLink from \"./ShortLink\";\n//import bg_boost_mobile from './images/bg-boost-mobile.svg';\n\nconst FormLink = () => {\n    const [inputLink, setInputLink] = useState(\"\");\n    const [linkList, setLinkList] = useState([]);\n    const [emptyInput, setEmptyInput] = useState(false);\n    const linkInputClass1 = \"py-3 pl-4 outline-none rounded-md md:col-span-3 border-0\";\n    const linkInputClass2 = \"py-3 pl-4 outline-none rounded-md md:col-span-3 border-2 border-Red\";\n\n   // useEffect(() => {\n    //    localStorage.getItem(\"list\");\n    //}, []);\n\n    //useEffect(() => {\n      //  localStorage.setItem(\"list\", linkList)\n    //}, [linkList]);\n\n    useEffect(() => {\n        const storedLinkList = localStorage.getItem(\"linkList\");\n        if (storedLinkList) {\n            setLinkList(JSON.parse(storedLinkList));\n        }\n    }, []);\n\n    useEffect(() => {\n        localStorage.setItem(\"linkList\", JSON.stringify(linkList));\n    }, [linkList]);\n\n    //function to fetch short link and add to list\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if (!inputLink) {\n            setEmptyInput(true);\n        } else {\n        fetch(`https://api.shrtco.de/v2/shorten?url=${inputLink}`)\n        .then((res) => res.json())\n        .then((data) => {\n            const shortLink = `http://${data.result.short_link}`;\n            const shortURL = data.result.short_link;\n            const fullLink = inputLink;\n            const keys = data.result.code;\n            setLinkList(prevList => [...prevList, { short: shortLink, full: fullLink, key: keys, shortURL: shortURL}]);\n            setInputLink(\"\");\n        });\n        setEmptyInput(false);\n        }\n    }\n\n    // function to copy text to clipboard\n    const copyToClipboard = (shortLink) => {\n        navigator.clipboard.writeText(shortLink)\n            .then(() => {\n                console.log(\"Link copied to clipboard!\");\n            })\n            .catch((error) => {\n                console.error(\"Failed to copy link to clipboard:\", error);\n            });\n    }\n    return ( \n        <div >\n            <div className=\" absolute -top-20 w-full\">\n                <div className=\"w-10/12 mx-auto bg-darkViolet rounded-lg bg-bg-shorten-mobile bg-no-repeat bg-right-top md:bg-bg-shorten-desktop bg-cover\">\n                    <form onSubmit={handleSubmit} className=\"grid grid-cols-1 w-4/5 mx-auto py-8 gap-4 md:grid-cols-4 md:w-11/12\">\n                        <input \n                        className={emptyInput === false ? 'py-3 pl-4 outline-none rounded-md md:col-span-3 border-0' : \n                        'py-3 pl-4 outline-none rounded-md md:col-span-3 border-2 border-reD placeholder:text-red-300'}\n                        id=\"linkInput\"\n                        type=\"text\" \n                        placeholder=\"Shorten a link here... \" \n                        value={inputLink}\n                        onChange={(e) => setInputLink(e.target.value)}/>\n                        <input \n                        className=\" bg-cYan text-center py-3 rounded-md text-white font-bold hover:brightness-125 cursor-pointer duration-300\"\n                        type=\"submit\" \n                        value=\"Shorten it!\" />\n                        {emptyInput && <p className=\" text-reD text-xs -mt-2\">please add a link</p>}\n                    </form>\n                </div>\n            </div>\n            <div className=\"w-full py-12\"></div>\n        \n            <ShortLink list={linkList} copy={copyToClipboard}/>\n        </div>\n     );\n}\n \nexport default FormLink;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}